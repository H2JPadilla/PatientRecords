@model EL.PatientEntity
@{
    ViewBag.Title = "Update Patient";
}
@if (TempData["Message"] != null)
{
    <div class="alert alert-danger" id="server-message">
        @TempData["Message"]
    </div>
}
<input type="hidden" id="validatePatientUrl" value="@Url.Action("ValidatePatient", "Patient")" />
<input type="hidden" id="requestVerificationToken" value="@Html.AntiForgeryToken()" />

<h2 class="mt-3">Edit Record</h2>
@using (Html.BeginForm("UpdatePatient", "Patient", FormMethod.Post, new { id = "patientForm" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.ID)
    <div id="validation-summary" class="alert d-none"></div>
    <form>
        <div>
            <div class="mb-3 col-4">
                <label for="Dosage" class="form-label">Dosage<span style="color:red;">*</span></label>
                @Html.TextBoxFor(m => m.Dosage, new { @class = "form-control", type = "number", step = "any", id = "Dosage", title = "Enter the dosage intake", tabindex = "1" })
            </div>
            <div class="mb-3 col-4">
                <label for="DrugName" class="form-label">Drug<span style="color:red;">*</span></label>
                @Html.TextBoxFor(m => m.DrugName, new { @class = "form-control", id = "DrugName", title = "Enter the name of the drug/medicine", tabindex = "2" })
            </div>
            <div class="mb-3 col-4">
                <label for="Patient" class="form-label">Patient<span style="color:red;">*</span></label>
                @Html.TextBoxFor(m => m.Patient, new { @class = "form-control", id = "Patient", title = "Enter the name of the patient", tabindex = "3" })
            </div>
        </div>
        @* Display validation errors from the server and client *@
        <div class="col-12 mt-3">
            <button type="button" id="updateButton" class="btn btn-outline-secondary" tabindex="4">Update</button>
            <button type="button" id="clearButton" class="btn btn-outline-secondary" tabindex="5">Clear All</button>
            <a href="@Url.Action("ViewPatient")" class="btn btn-outline-secondary" tabindex="6">Cancel</a>
        </div>
    </form>
}
<div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="updateModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="updateModalLabel">Confirm Update</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Do you want to update
                this patient record?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="confirmUpdateBtn">Yes, Update</button>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script src="~/Areas/Admin/Content/JavaScript/updateJS.js"></script>
}